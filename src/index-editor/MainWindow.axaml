<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:IndexEditor.Views"
        xmlns:local="clr-namespace:IndexEditor.Views"
        x:Class="IndexEditor.MainWindow"
        Title="IndexEditor">
    <Window.Resources>
        <local:NotNullToBoolConverter x:Key="NotNullToBool" />
    </Window.Resources>
    <Grid RowDefinitions="Auto,*" ColumnDefinitions="*,*,*">
        <!-- Invisible focus host to capture keyboard shortcuts reliably -->
        <Border x:Name="KeyboardFocusHost" Grid.Row="0" Grid.Column="0" Width="1" Height="1" Background="Transparent" Focusable="True" IsHitTestVisible="False" />
        <!-- Top Bar -->
        <Border Grid.Row="0" Grid.ColumnSpan="3">
            <views:TopBar x:Name="TopBarControl"/>
        </Border>
        <!-- Article List (Left 3 columns) -->
        <Border Grid.Row="1" Grid.Column="0">
            <views:ArticleList x:Name="ArticleListControl"/>
        </Border>
        <!-- Article Editor (Center 6 columns) -->
        <Border Grid.Row="1" Grid.Column="1">
            <!-- Show the ArticleEditor only when SelectedArticle is not null -->
            <ContentControl x:Name="EditorContentHost" Content="{Binding}">
                <ContentControl.ContentTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <views:ArticleEditor x:Name="ArticleEditorControl" IsVisible="{Binding SelectedArticle, Converter={StaticResource NotNullToBool}}" />
                            <TextBlock Text="No article selected" IsVisible="{Binding SelectedArticle, Converter={StaticResource NotNullToBool}, ConverterParameter=Invert}" HorizontalAlignment="Center" VerticalAlignment="Center" FontStyle="Italic" Foreground="#666" />
                        </StackPanel>
                    </DataTemplate>
                </ContentControl.ContentTemplate>
            </ContentControl>
        </Border>
        <!-- GridSplitter between Article List and Editor -->
        <GridSplitter Grid.Row="1" Grid.Column="1" Width="6" HorizontalAlignment="Left" VerticalAlignment="Stretch" Background="#DDDDDD" ShowsPreview="True" />
        <!-- GridSplitter between Editor and Page Controller -->
        <GridSplitter Grid.Row="1" Grid.Column="2" Width="6" HorizontalAlignment="Left" VerticalAlignment="Stretch" Background="#DDDDDD" ShowsPreview="True" />
        <!-- Page Controller (Right column) - neutral background; resizable via splitter -->
        <Border Grid.Row="1" Grid.Column="2" Padding="8" MinWidth="200">
            <views:PageControllerView x:Name="PageControllerControl"/>
        </Border>
    </Grid>
</Window>
